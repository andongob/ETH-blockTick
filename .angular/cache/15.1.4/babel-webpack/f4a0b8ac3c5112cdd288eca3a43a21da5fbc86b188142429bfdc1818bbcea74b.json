{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromQuorumWallet = exports.fromKryptoKit = exports.fromEtherCamp = exports.fromEtherWallet = void 0;\nvar crypto = __importStar(require(\"crypto\"));\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar scrypt_js_1 = require(\"scrypt-js\");\nvar index_1 = __importDefault(require(\"./index\"));\nvar utf8 = require('utf8');\nvar aesjs = require('aes-js');\nfunction runCipherBuffer(cipher, data) {\n  return Buffer.concat([cipher.update(data), cipher.final()]);\n}\nvar evpKdfDefaults = {\n  count: 1,\n  keysize: 16,\n  ivsize: 16,\n  digest: 'md5'\n};\nfunction mergeEvpKdfOptsWithDefaults(opts) {\n  if (!opts) {\n    return evpKdfDefaults;\n  }\n  return {\n    count: opts.count || evpKdfDefaults.count,\n    keysize: opts.keysize || evpKdfDefaults.keysize,\n    ivsize: opts.ivsize || evpKdfDefaults.ivsize,\n    digest: opts.digest || evpKdfDefaults.digest\n  };\n}\n/*\r\n * opts:\r\n * - digest - digest algorithm, defaults to md5\r\n * - count - hash iterations\r\n * - keysize - desired key size\r\n * - ivsize - desired IV size\r\n *\r\n * Algorithm form https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html\r\n *\r\n * FIXME: not optimised at all\r\n */\nfunction evp_kdf(data, salt, opts) {\n  var params = mergeEvpKdfOptsWithDefaults(opts);\n  // A single EVP iteration, returns `D_i`, where block equlas to `D_(i-1)`\n  function iter(block) {\n    var hash = crypto.createHash(params.digest);\n    hash.update(block);\n    hash.update(data);\n    hash.update(salt);\n    block = hash.digest();\n    for (var i_1 = 1, len = params.count; i_1 < len; i_1++) {\n      hash = crypto.createHash(params.digest);\n      hash.update(block);\n      block = hash.digest();\n    }\n    return block;\n  }\n  var ret = [];\n  var i = 0;\n  while (Buffer.concat(ret).length < params.keysize + params.ivsize) {\n    ret[i] = iter(i === 0 ? Buffer.alloc(0) : ret[i - 1]);\n    i++;\n  }\n  var tmp = Buffer.concat(ret);\n  return {\n    key: tmp.slice(0, params.keysize),\n    iv: tmp.slice(params.keysize, params.keysize + params.ivsize)\n  };\n}\n// http://stackoverflow.com/questions/25288311/cryptojs-aes-pattern-always-ends-with\nfunction decodeCryptojsSalt(input) {\n  var ciphertext = Buffer.from(input, 'base64');\n  if (ciphertext.slice(0, 8).toString() === 'Salted__') {\n    return {\n      salt: ciphertext.slice(8, 16),\n      ciphertext: ciphertext.slice(16)\n    };\n  }\n  return {\n    ciphertext: ciphertext\n  };\n}\n/*\r\n * Third Party API: Import a wallet generated by EtherWallet\r\n * This wallet format is created by https://github.com/SilentCicero/ethereumjs-accounts\r\n * and used on https://www.myetherwallet.com/\r\n */\nfunction fromEtherWallet(input, password) {\n  var json = typeof input === 'object' ? input : JSON.parse(input);\n  var privateKey;\n  if (!json.locked) {\n    if (json.private.length !== 64) {\n      throw new Error('Invalid private key length');\n    }\n    privateKey = Buffer.from(json.private, 'hex');\n  } else {\n    if (typeof password !== 'string') {\n      throw new Error('Password required');\n    }\n    if (password.length < 7) {\n      throw new Error('Password must be at least 7 characters');\n    }\n    // the \"encrypted\" version has the low 4 bytes\n    // of the hash of the address appended\n    var hash = json.encrypted ? json.private.slice(0, 128) : json.private;\n    // decode openssl ciphertext + salt encoding\n    var cipher = decodeCryptojsSalt(hash);\n    if (!cipher.salt) {\n      throw new Error('Unsupported EtherWallet key format');\n    }\n    // derive key/iv using OpenSSL EVP as implemented in CryptoJS\n    var evp = evp_kdf(Buffer.from(password), cipher.salt, {\n      keysize: 32,\n      ivsize: 16\n    });\n    var decipher = crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv);\n    privateKey = runCipherBuffer(decipher, Buffer.from(cipher.ciphertext));\n    // NOTE: yes, they've run it through UTF8\n    privateKey = Buffer.from(utf8.decode(privateKey.toString()), 'hex');\n  }\n  var wallet = new index_1.default(privateKey);\n  if (wallet.getAddressString() !== json.address) {\n    throw new Error('Invalid private key or address');\n  }\n  return wallet;\n}\nexports.fromEtherWallet = fromEtherWallet;\n/**\r\n * Third Party API: Import a brain wallet used by Ether.Camp\r\n */\nfunction fromEtherCamp(passphrase) {\n  return new index_1.default((0, ethereumjs_util_1.keccak256)(Buffer.from(passphrase)));\n}\nexports.fromEtherCamp = fromEtherCamp;\n/**\r\n * Third Party API: Import a wallet from a KryptoKit seed\r\n */\nfunction fromKryptoKit(entropy, password) {\n  return __awaiter(this, void 0, void 0, function () {\n    function kryptoKitBrokenScryptSeed(buf) {\n      // js-scrypt calls `Buffer.from(String(salt), 'utf8')` on the seed even though it is a buffer\n      //\n      // The `buffer`` implementation used does the below transformation (doesn't matches the current version):\n      // https://github.com/feross/buffer/blob/67c61181b938b17d10dbfc0a545f713b8bd59de8/index.js\n      function decodeUtf8Char(str) {\n        try {\n          return decodeURIComponent(str);\n        } catch (err) {\n          return String.fromCharCode(0xfffd); // UTF 8 invalid char\n        }\n      }\n\n      var res = '',\n        tmp = '';\n      for (var i = 0; i < buf.length; i++) {\n        if (buf[i] <= 0x7f) {\n          res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i]);\n          tmp = '';\n        } else {\n          tmp += '%' + buf[i].toString(16);\n        }\n      }\n      return Buffer.from(res + decodeUtf8Char(tmp));\n    }\n    var type, privateKey, encryptedSeed, checksum, salt, aesKey, decipher;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (entropy[0] === '#') {\n            entropy = entropy.slice(1);\n          }\n          type = entropy[0];\n          entropy = entropy.slice(1);\n          if (!(type === 'd')) return [3 /*break*/, 1];\n          privateKey = (0, ethereumjs_util_1.sha256)((0, ethereumjs_util_1.toBuffer)(entropy));\n          return [3 /*break*/, 4];\n        case 1:\n          if (!(type === 'q')) return [3 /*break*/, 3];\n          if (typeof password !== 'string') {\n            throw new Error('Password required');\n          }\n          encryptedSeed = (0, ethereumjs_util_1.sha256)(Buffer.from(entropy.slice(0, 30)));\n          checksum = entropy.slice(30, 46);\n          salt = kryptoKitBrokenScryptSeed(encryptedSeed);\n          return [4 /*yield*/, (0, scrypt_js_1.scrypt)(Buffer.from(password, 'utf8'), salt, 16384, 8, 1, 32)\n          /* FIXME: try to use `crypto` instead of `aesjs`\r\n                                // NOTE: ECB doesn't use the IV, so it can be anything\r\n          var decipher = crypto.createDecipheriv(\"aes-256-ecb\", aesKey, Buffer.from(0))\r\n                                // FIXME: this is a clear abuse, but seems to match how ECB in aesjs works\r\n          privKey = Buffer.concat([\r\n            decipher.update(encryptedSeed).slice(0, 16),\r\n            decipher.update(encryptedSeed).slice(0, 16),\r\n          ])\r\n          */];\n\n        case 2:\n          aesKey = _a.sent();\n          decipher = new aesjs.ModeOfOperation.ecb(aesKey);\n          /* decrypt returns an Uint8Array, perhaps there is a better way to concatenate */\n          privateKey = Buffer.concat([Buffer.from(decipher.decrypt(encryptedSeed.slice(0, 16))), Buffer.from(decipher.decrypt(encryptedSeed.slice(16, 32)))]);\n          if (checksum.length > 0) {\n            if (checksum !== (0, ethereumjs_util_1.sha256)((0, ethereumjs_util_1.sha256)(privateKey)).slice(0, 8).toString('hex')) {\n              throw new Error('Failed to decrypt input - possibly invalid passphrase');\n            }\n          }\n          return [3 /*break*/, 4];\n        case 3:\n          throw new Error('Unsupported or invalid entropy type');\n        case 4:\n          return [2 /*return*/, new index_1.default(privateKey)];\n      }\n    });\n  });\n}\nexports.fromKryptoKit = fromKryptoKit;\n/**\r\n * Third Party API: Import a brain wallet used by Quorum Wallet\r\n */\nfunction fromQuorumWallet(passphrase, userid) {\n  if (passphrase.length < 10) {\n    throw new Error('Passphrase must be at least 10 characters');\n  }\n  if (userid.length < 10) {\n    throw new Error('User id must be at least 10 characters');\n  }\n  var merged = passphrase + userid;\n  var seed = crypto.pbkdf2Sync(merged, merged, 2000, 32, 'sha256');\n  return new index_1.default(seed);\n}\nexports.fromQuorumWallet = fromQuorumWallet;\nvar Thirdparty = {\n  fromEtherWallet: fromEtherWallet,\n  fromEtherCamp: fromEtherCamp,\n  fromKryptoKit: fromKryptoKit,\n  fromQuorumWallet: fromQuorumWallet\n};\nexports.default = Thirdparty;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","op","TypeError","pop","length","push","__importDefault","exports","fromQuorumWallet","fromKryptoKit","fromEtherCamp","fromEtherWallet","crypto","require","ethereumjs_util_1","scrypt_js_1","index_1","utf8","aesjs","runCipherBuffer","cipher","data","Buffer","concat","update","final","evpKdfDefaults","count","keysize","ivsize","digest","mergeEvpKdfOptsWithDefaults","opts","evp_kdf","salt","params","iter","block","hash","createHash","i_1","len","ret","i","alloc","tmp","key","slice","iv","decodeCryptojsSalt","input","ciphertext","from","toString","password","json","JSON","parse","privateKey","locked","private","Error","encrypted","evp","decipher","createDecipheriv","decode","wallet","default","getAddressString","address","passphrase","keccak256","entropy","kryptoKitBrokenScryptSeed","buf","decodeUtf8Char","str","decodeURIComponent","err","String","fromCharCode","res","type","encryptedSeed","checksum","aesKey","_a","sha256","toBuffer","scrypt","ModeOfOperation","ecb","decrypt","userid","merged","seed","pbkdf2Sync","Thirdparty"],"sources":["C:/Users/Ndongo/Desktop/noborrar/Ethereum-Blocktick/node_modules/ethereumjs-wallet/dist.browser/thirdparty.js"],"sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromQuorumWallet = exports.fromKryptoKit = exports.fromEtherCamp = exports.fromEtherWallet = void 0;\r\nvar crypto = __importStar(require(\"crypto\"));\r\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\r\nvar scrypt_js_1 = require(\"scrypt-js\");\r\nvar index_1 = __importDefault(require(\"./index\"));\r\nvar utf8 = require('utf8');\r\nvar aesjs = require('aes-js');\r\nfunction runCipherBuffer(cipher, data) {\r\n    return Buffer.concat([cipher.update(data), cipher.final()]);\r\n}\r\nvar evpKdfDefaults = {\r\n    count: 1,\r\n    keysize: 16,\r\n    ivsize: 16,\r\n    digest: 'md5',\r\n};\r\nfunction mergeEvpKdfOptsWithDefaults(opts) {\r\n    if (!opts) {\r\n        return evpKdfDefaults;\r\n    }\r\n    return {\r\n        count: opts.count || evpKdfDefaults.count,\r\n        keysize: opts.keysize || evpKdfDefaults.keysize,\r\n        ivsize: opts.ivsize || evpKdfDefaults.ivsize,\r\n        digest: opts.digest || evpKdfDefaults.digest,\r\n    };\r\n}\r\n/*\r\n * opts:\r\n * - digest - digest algorithm, defaults to md5\r\n * - count - hash iterations\r\n * - keysize - desired key size\r\n * - ivsize - desired IV size\r\n *\r\n * Algorithm form https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html\r\n *\r\n * FIXME: not optimised at all\r\n */\r\nfunction evp_kdf(data, salt, opts) {\r\n    var params = mergeEvpKdfOptsWithDefaults(opts);\r\n    // A single EVP iteration, returns `D_i`, where block equlas to `D_(i-1)`\r\n    function iter(block) {\r\n        var hash = crypto.createHash(params.digest);\r\n        hash.update(block);\r\n        hash.update(data);\r\n        hash.update(salt);\r\n        block = hash.digest();\r\n        for (var i_1 = 1, len = params.count; i_1 < len; i_1++) {\r\n            hash = crypto.createHash(params.digest);\r\n            hash.update(block);\r\n            block = hash.digest();\r\n        }\r\n        return block;\r\n    }\r\n    var ret = [];\r\n    var i = 0;\r\n    while (Buffer.concat(ret).length < params.keysize + params.ivsize) {\r\n        ret[i] = iter(i === 0 ? Buffer.alloc(0) : ret[i - 1]);\r\n        i++;\r\n    }\r\n    var tmp = Buffer.concat(ret);\r\n    return {\r\n        key: tmp.slice(0, params.keysize),\r\n        iv: tmp.slice(params.keysize, params.keysize + params.ivsize),\r\n    };\r\n}\r\n// http://stackoverflow.com/questions/25288311/cryptojs-aes-pattern-always-ends-with\r\nfunction decodeCryptojsSalt(input) {\r\n    var ciphertext = Buffer.from(input, 'base64');\r\n    if (ciphertext.slice(0, 8).toString() === 'Salted__') {\r\n        return {\r\n            salt: ciphertext.slice(8, 16),\r\n            ciphertext: ciphertext.slice(16),\r\n        };\r\n    }\r\n    return { ciphertext: ciphertext };\r\n}\r\n/*\r\n * Third Party API: Import a wallet generated by EtherWallet\r\n * This wallet format is created by https://github.com/SilentCicero/ethereumjs-accounts\r\n * and used on https://www.myetherwallet.com/\r\n */\r\nfunction fromEtherWallet(input, password) {\r\n    var json = typeof input === 'object' ? input : JSON.parse(input);\r\n    var privateKey;\r\n    if (!json.locked) {\r\n        if (json.private.length !== 64) {\r\n            throw new Error('Invalid private key length');\r\n        }\r\n        privateKey = Buffer.from(json.private, 'hex');\r\n    }\r\n    else {\r\n        if (typeof password !== 'string') {\r\n            throw new Error('Password required');\r\n        }\r\n        if (password.length < 7) {\r\n            throw new Error('Password must be at least 7 characters');\r\n        }\r\n        // the \"encrypted\" version has the low 4 bytes\r\n        // of the hash of the address appended\r\n        var hash = json.encrypted ? json.private.slice(0, 128) : json.private;\r\n        // decode openssl ciphertext + salt encoding\r\n        var cipher = decodeCryptojsSalt(hash);\r\n        if (!cipher.salt) {\r\n            throw new Error('Unsupported EtherWallet key format');\r\n        }\r\n        // derive key/iv using OpenSSL EVP as implemented in CryptoJS\r\n        var evp = evp_kdf(Buffer.from(password), cipher.salt, { keysize: 32, ivsize: 16 });\r\n        var decipher = crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv);\r\n        privateKey = runCipherBuffer(decipher, Buffer.from(cipher.ciphertext));\r\n        // NOTE: yes, they've run it through UTF8\r\n        privateKey = Buffer.from(utf8.decode(privateKey.toString()), 'hex');\r\n    }\r\n    var wallet = new index_1.default(privateKey);\r\n    if (wallet.getAddressString() !== json.address) {\r\n        throw new Error('Invalid private key or address');\r\n    }\r\n    return wallet;\r\n}\r\nexports.fromEtherWallet = fromEtherWallet;\r\n/**\r\n * Third Party API: Import a brain wallet used by Ether.Camp\r\n */\r\nfunction fromEtherCamp(passphrase) {\r\n    return new index_1.default((0, ethereumjs_util_1.keccak256)(Buffer.from(passphrase)));\r\n}\r\nexports.fromEtherCamp = fromEtherCamp;\r\n/**\r\n * Third Party API: Import a wallet from a KryptoKit seed\r\n */\r\nfunction fromKryptoKit(entropy, password) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        function kryptoKitBrokenScryptSeed(buf) {\r\n            // js-scrypt calls `Buffer.from(String(salt), 'utf8')` on the seed even though it is a buffer\r\n            //\r\n            // The `buffer`` implementation used does the below transformation (doesn't matches the current version):\r\n            // https://github.com/feross/buffer/blob/67c61181b938b17d10dbfc0a545f713b8bd59de8/index.js\r\n            function decodeUtf8Char(str) {\r\n                try {\r\n                    return decodeURIComponent(str);\r\n                }\r\n                catch (err) {\r\n                    return String.fromCharCode(0xfffd); // UTF 8 invalid char\r\n                }\r\n            }\r\n            var res = '', tmp = '';\r\n            for (var i = 0; i < buf.length; i++) {\r\n                if (buf[i] <= 0x7f) {\r\n                    res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i]);\r\n                    tmp = '';\r\n                }\r\n                else {\r\n                    tmp += '%' + buf[i].toString(16);\r\n                }\r\n            }\r\n            return Buffer.from(res + decodeUtf8Char(tmp));\r\n        }\r\n        var type, privateKey, encryptedSeed, checksum, salt, aesKey, decipher;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (entropy[0] === '#') {\r\n                        entropy = entropy.slice(1);\r\n                    }\r\n                    type = entropy[0];\r\n                    entropy = entropy.slice(1);\r\n                    if (!(type === 'd')) return [3 /*break*/, 1];\r\n                    privateKey = (0, ethereumjs_util_1.sha256)((0, ethereumjs_util_1.toBuffer)(entropy));\r\n                    return [3 /*break*/, 4];\r\n                case 1:\r\n                    if (!(type === 'q')) return [3 /*break*/, 3];\r\n                    if (typeof password !== 'string') {\r\n                        throw new Error('Password required');\r\n                    }\r\n                    encryptedSeed = (0, ethereumjs_util_1.sha256)(Buffer.from(entropy.slice(0, 30)));\r\n                    checksum = entropy.slice(30, 46);\r\n                    salt = kryptoKitBrokenScryptSeed(encryptedSeed);\r\n                    return [4 /*yield*/, (0, scrypt_js_1.scrypt)(Buffer.from(password, 'utf8'), salt, 16384, 8, 1, 32)\r\n                        /* FIXME: try to use `crypto` instead of `aesjs`\r\n                    \r\n                        // NOTE: ECB doesn't use the IV, so it can be anything\r\n                        var decipher = crypto.createDecipheriv(\"aes-256-ecb\", aesKey, Buffer.from(0))\r\n                    \r\n                        // FIXME: this is a clear abuse, but seems to match how ECB in aesjs works\r\n                        privKey = Buffer.concat([\r\n                          decipher.update(encryptedSeed).slice(0, 16),\r\n                          decipher.update(encryptedSeed).slice(0, 16),\r\n                        ])\r\n                        */\r\n                    ];\r\n                case 2:\r\n                    aesKey = _a.sent();\r\n                    decipher = new aesjs.ModeOfOperation.ecb(aesKey);\r\n                    /* decrypt returns an Uint8Array, perhaps there is a better way to concatenate */\r\n                    privateKey = Buffer.concat([\r\n                        Buffer.from(decipher.decrypt(encryptedSeed.slice(0, 16))),\r\n                        Buffer.from(decipher.decrypt(encryptedSeed.slice(16, 32))),\r\n                    ]);\r\n                    if (checksum.length > 0) {\r\n                        if (checksum !== (0, ethereumjs_util_1.sha256)((0, ethereumjs_util_1.sha256)(privateKey)).slice(0, 8).toString('hex')) {\r\n                            throw new Error('Failed to decrypt input - possibly invalid passphrase');\r\n                        }\r\n                    }\r\n                    return [3 /*break*/, 4];\r\n                case 3: throw new Error('Unsupported or invalid entropy type');\r\n                case 4: return [2 /*return*/, new index_1.default(privateKey)];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fromKryptoKit = fromKryptoKit;\r\n/**\r\n * Third Party API: Import a brain wallet used by Quorum Wallet\r\n */\r\nfunction fromQuorumWallet(passphrase, userid) {\r\n    if (passphrase.length < 10) {\r\n        throw new Error('Passphrase must be at least 10 characters');\r\n    }\r\n    if (userid.length < 10) {\r\n        throw new Error('User id must be at least 10 characters');\r\n    }\r\n    var merged = passphrase + userid;\r\n    var seed = crypto.pbkdf2Sync(merged, merged, 2000, 32, 'sha256');\r\n    return new index_1.default(seed);\r\n}\r\nexports.fromQuorumWallet = fromQuorumWallet;\r\nvar Thirdparty = {\r\n    fromEtherWallet: fromEtherWallet,\r\n    fromEtherCamp: fromEtherCamp,\r\n    fromKryptoKit: fromKryptoKit,\r\n    fromQuorumWallet: fromQuorumWallet,\r\n};\r\nexports.default = Thirdparty;\r\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,KAAMC,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EAC5F,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BJ,MAAM,CAACO,cAAc,CAACL,CAAC,EAAEG,EAAE,EAAE;IAAEG,UAAU,EAAE,IAAI;IAAEC,GAAG,EAAE,YAAW;MAAE,OAAON,CAAC,CAACC,CAAC,CAAC;IAAE;EAAE,CAAC,CAAC;AACxF,CAAC,GAAK,UAASF,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BF,CAAC,CAACG,EAAE,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;AAChB,CAAE,CAAC;AACH,IAAIM,kBAAkB,GAAI,IAAI,IAAI,IAAI,CAACA,kBAAkB,KAAMV,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAES,CAAC,EAAE;EAC3FX,MAAM,CAACO,cAAc,CAACL,CAAC,EAAE,SAAS,EAAE;IAAEM,UAAU,EAAE,IAAI;IAAEI,KAAK,EAAED;EAAE,CAAC,CAAC;AACvE,CAAC,GAAI,UAAST,CAAC,EAAES,CAAC,EAAE;EAChBT,CAAC,CAAC,SAAS,CAAC,GAAGS,CAAC;AACpB,CAAC,CAAC;AACF,IAAIE,YAAY,GAAI,IAAI,IAAI,IAAI,CAACA,YAAY,IAAK,UAAUC,GAAG,EAAE;EAC7D,IAAIA,GAAG,IAAIA,GAAG,CAACC,UAAU,EAAE,OAAOD,GAAG;EACrC,IAAIE,MAAM,GAAG,CAAC,CAAC;EACf,IAAIF,GAAG,IAAI,IAAI,EAAE,KAAK,IAAIV,CAAC,IAAIU,GAAG,EAAE,IAAIV,CAAC,KAAK,SAAS,IAAIJ,MAAM,CAACiB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACL,GAAG,EAAEV,CAAC,CAAC,EAAEL,eAAe,CAACiB,MAAM,EAAEF,GAAG,EAAEV,CAAC,CAAC;EACxIM,kBAAkB,CAACM,MAAM,EAAEF,GAAG,CAAC;EAC/B,OAAOE,MAAM;AACjB,CAAC;AACD,IAAII,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAK,CAACb,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYW,CAAC,GAAGX,KAAK,GAAG,IAAIW,CAAC,CAAC,UAAUG,OAAO,EAAE;MAAEA,OAAO,CAACd,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKW,CAAC,KAAKA,CAAC,GAAGI,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAAS,CAACjB,KAAK,EAAE;MAAE,IAAI;QAAEkB,IAAI,CAACN,SAAS,CAACO,IAAI,CAACnB,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOoB,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQ,CAACrB,KAAK,EAAE;MAAE,IAAI;QAAEkB,IAAI,CAACN,SAAS,CAAC,OAAO,CAAC,CAACZ,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOoB,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAI,CAACd,MAAM,EAAE;MAAEA,MAAM,CAACkB,IAAI,GAAGR,OAAO,CAACV,MAAM,CAACJ,KAAK,CAAC,GAAGa,KAAK,CAACT,MAAM,CAACJ,KAAK,CAAC,CAACuB,IAAI,CAACN,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACN,SAAS,GAAGA,SAAS,CAACY,KAAK,CAACf,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAES,IAAI,EAAE,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,IAAIM,WAAW,GAAI,IAAI,IAAI,IAAI,CAACA,WAAW,IAAK,UAAUhB,OAAO,EAAEiB,IAAI,EAAE;EACrE,IAAIC,CAAC,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,YAAW;QAAE,IAAIC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,CAAC,CAAC,CAAC,CAAC;QAAE,OAAOA,CAAC,CAAC,CAAC,CAAC;MAAE,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC;IAAEC,CAAC;IAAEC,CAAC;IAAEJ,CAAC;IAAEK,CAAC;EAChH,OAAOA,CAAC,GAAG;IAAEhB,IAAI,EAAEiB,IAAI,CAAC,CAAC,CAAC;IAAE,OAAO,EAAEA,IAAI,CAAC,CAAC,CAAC;IAAE,QAAQ,EAAEA,IAAI,CAAC,CAAC;EAAE,CAAC,EAAE,OAAOC,MAAM,KAAK,UAAU,KAAKF,CAAC,CAACE,MAAM,CAACC,QAAQ,CAAC,GAAG,YAAW;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,EAAEH,CAAC;EACxJ,SAASC,IAAI,CAACG,CAAC,EAAE;IAAE,OAAO,UAAUxC,CAAC,EAAE;MAAE,OAAOmB,IAAI,CAAC,CAACqB,CAAC,EAAExC,CAAC,CAAC,CAAC;IAAE,CAAC;EAAE;EACjE,SAASmB,IAAI,CAACsB,EAAE,EAAE;IACd,IAAIP,CAAC,EAAE,MAAM,IAAIQ,SAAS,CAAC,iCAAiC,CAAC;IAC7D,OAAOd,CAAC,EAAE,IAAI;MACV,IAAIM,CAAC,GAAG,CAAC,EAAEC,CAAC,KAAKJ,CAAC,GAAGU,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGN,CAAC,CAAC,QAAQ,CAAC,GAAGM,EAAE,CAAC,CAAC,CAAC,GAAGN,CAAC,CAAC,OAAO,CAAC,KAAK,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAQ,CAAC,KAAKJ,CAAC,CAACvB,IAAI,CAAC2B,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGA,CAAC,CAACf,IAAI,CAAC,IAAI,CAAC,CAACW,CAAC,GAAGA,CAAC,CAACvB,IAAI,CAAC2B,CAAC,EAAEM,EAAE,CAAC,CAAC,CAAC,CAAC,EAAElB,IAAI,EAAE,OAAOQ,CAAC;MAC5J,IAAII,CAAC,GAAG,CAAC,EAAEJ,CAAC,EAAEU,EAAE,GAAG,CAACA,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEV,CAAC,CAAC9B,KAAK,CAAC;MACvC,QAAQwC,EAAE,CAAC,CAAC,CAAC;QACT,KAAK,CAAC;QAAE,KAAK,CAAC;UAAEV,CAAC,GAAGU,EAAE;UAAE;QACxB,KAAK,CAAC;UAAEb,CAAC,CAACC,KAAK,EAAE;UAAE,OAAO;YAAE5B,KAAK,EAAEwC,EAAE,CAAC,CAAC,CAAC;YAAElB,IAAI,EAAE;UAAM,CAAC;QACvD,KAAK,CAAC;UAAEK,CAAC,CAACC,KAAK,EAAE;UAAEM,CAAC,GAAGM,EAAE,CAAC,CAAC,CAAC;UAAEA,EAAE,GAAG,CAAC,CAAC,CAAC;UAAE;QACxC,KAAK,CAAC;UAAEA,EAAE,GAAGb,CAAC,CAACK,GAAG,CAACU,GAAG,EAAE;UAAEf,CAAC,CAACI,IAAI,CAACW,GAAG,EAAE;UAAE;QACxC;UACI,IAAI,EAAEZ,CAAC,GAAGH,CAAC,CAACI,IAAI,EAAED,CAAC,GAAGA,CAAC,CAACa,MAAM,GAAG,CAAC,IAAIb,CAAC,CAACA,CAAC,CAACa,MAAM,GAAG,CAAC,CAAC,CAAC,KAAKH,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YAAEb,CAAC,GAAG,CAAC;YAAE;UAAU;UAC3G,IAAIa,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAACV,CAAC,IAAKU,EAAE,CAAC,CAAC,CAAC,GAAGV,CAAC,CAAC,CAAC,CAAC,IAAIU,EAAE,CAAC,CAAC,CAAC,GAAGV,CAAC,CAAC,CAAC,CAAE,CAAC,EAAE;YAAEH,CAAC,CAACC,KAAK,GAAGY,EAAE,CAAC,CAAC,CAAC;YAAE;UAAO;UACrF,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIb,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC,EAAE;YAAEH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC;YAAEA,CAAC,GAAGU,EAAE;YAAE;UAAO;UACpE,IAAIV,CAAC,IAAIH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC,EAAE;YAAEH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC;YAAEH,CAAC,CAACK,GAAG,CAACY,IAAI,CAACJ,EAAE,CAAC;YAAE;UAAO;UAClE,IAAIV,CAAC,CAAC,CAAC,CAAC,EAAEH,CAAC,CAACK,GAAG,CAACU,GAAG,EAAE;UACrBf,CAAC,CAACI,IAAI,CAACW,GAAG,EAAE;UAAE;MAAS;MAE/BF,EAAE,GAAGd,IAAI,CAACnB,IAAI,CAACE,OAAO,EAAEkB,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOP,CAAC,EAAE;MAAEoB,EAAE,GAAG,CAAC,CAAC,EAAEpB,CAAC,CAAC;MAAEc,CAAC,GAAG,CAAC;IAAE,CAAC,SAAS;MAAED,CAAC,GAAGH,CAAC,GAAG,CAAC;IAAE;IACzD,IAAIU,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,EAAE,CAAC,CAAC,CAAC;IAAE,OAAO;MAAExC,KAAK,EAAEwC,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;MAAElB,IAAI,EAAE;IAAK,CAAC;EACpF;AACJ,CAAC;AACD,IAAIuB,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAU3C,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDd,MAAM,CAACO,cAAc,CAACmD,OAAO,EAAE,YAAY,EAAE;EAAE9C,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D8C,OAAO,CAACC,gBAAgB,GAAGD,OAAO,CAACE,aAAa,GAAGF,OAAO,CAACG,aAAa,GAAGH,OAAO,CAACI,eAAe,GAAG,KAAK,CAAC;AAC3G,IAAIC,MAAM,GAAGlD,YAAY,CAACmD,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5C,IAAIC,iBAAiB,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAClD,IAAIE,WAAW,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,IAAIG,OAAO,GAAGV,eAAe,CAACO,OAAO,CAAC,SAAS,CAAC,CAAC;AACjD,IAAII,IAAI,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIK,KAAK,GAAGL,OAAO,CAAC,QAAQ,CAAC;AAC7B,SAASM,eAAe,CAACC,MAAM,EAAEC,IAAI,EAAE;EACnC,OAAOC,MAAM,CAACC,MAAM,CAAC,CAACH,MAAM,CAACI,MAAM,CAACH,IAAI,CAAC,EAAED,MAAM,CAACK,KAAK,EAAE,CAAC,CAAC;AAC/D;AACA,IAAIC,cAAc,GAAG;EACjBC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,EAAE;EACXC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE;AACZ,CAAC;AACD,SAASC,2BAA2B,CAACC,IAAI,EAAE;EACvC,IAAI,CAACA,IAAI,EAAE;IACP,OAAON,cAAc;EACzB;EACA,OAAO;IACHC,KAAK,EAAEK,IAAI,CAACL,KAAK,IAAID,cAAc,CAACC,KAAK;IACzCC,OAAO,EAAEI,IAAI,CAACJ,OAAO,IAAIF,cAAc,CAACE,OAAO;IAC/CC,MAAM,EAAEG,IAAI,CAACH,MAAM,IAAIH,cAAc,CAACG,MAAM;IAC5CC,MAAM,EAAEE,IAAI,CAACF,MAAM,IAAIJ,cAAc,CAACI;EAC1C,CAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,OAAO,CAACZ,IAAI,EAAEa,IAAI,EAAEF,IAAI,EAAE;EAC/B,IAAIG,MAAM,GAAGJ,2BAA2B,CAACC,IAAI,CAAC;EAC9C;EACA,SAASI,IAAI,CAACC,KAAK,EAAE;IACjB,IAAIC,IAAI,GAAG1B,MAAM,CAAC2B,UAAU,CAACJ,MAAM,CAACL,MAAM,CAAC;IAC3CQ,IAAI,CAACd,MAAM,CAACa,KAAK,CAAC;IAClBC,IAAI,CAACd,MAAM,CAACH,IAAI,CAAC;IACjBiB,IAAI,CAACd,MAAM,CAACU,IAAI,CAAC;IACjBG,KAAK,GAAGC,IAAI,CAACR,MAAM,EAAE;IACrB,KAAK,IAAIU,GAAG,GAAG,CAAC,EAAEC,GAAG,GAAGN,MAAM,CAACR,KAAK,EAAEa,GAAG,GAAGC,GAAG,EAAED,GAAG,EAAE,EAAE;MACpDF,IAAI,GAAG1B,MAAM,CAAC2B,UAAU,CAACJ,MAAM,CAACL,MAAM,CAAC;MACvCQ,IAAI,CAACd,MAAM,CAACa,KAAK,CAAC;MAClBA,KAAK,GAAGC,IAAI,CAACR,MAAM,EAAE;IACzB;IACA,OAAOO,KAAK;EAChB;EACA,IAAIK,GAAG,GAAG,EAAE;EACZ,IAAIC,CAAC,GAAG,CAAC;EACT,OAAOrB,MAAM,CAACC,MAAM,CAACmB,GAAG,CAAC,CAACtC,MAAM,GAAG+B,MAAM,CAACP,OAAO,GAAGO,MAAM,CAACN,MAAM,EAAE;IAC/Da,GAAG,CAACC,CAAC,CAAC,GAAGP,IAAI,CAACO,CAAC,KAAK,CAAC,GAAGrB,MAAM,CAACsB,KAAK,CAAC,CAAC,CAAC,GAAGF,GAAG,CAACC,CAAC,GAAG,CAAC,CAAC,CAAC;IACrDA,CAAC,EAAE;EACP;EACA,IAAIE,GAAG,GAAGvB,MAAM,CAACC,MAAM,CAACmB,GAAG,CAAC;EAC5B,OAAO;IACHI,GAAG,EAAED,GAAG,CAACE,KAAK,CAAC,CAAC,EAAEZ,MAAM,CAACP,OAAO,CAAC;IACjCoB,EAAE,EAAEH,GAAG,CAACE,KAAK,CAACZ,MAAM,CAACP,OAAO,EAAEO,MAAM,CAACP,OAAO,GAAGO,MAAM,CAACN,MAAM;EAChE,CAAC;AACL;AACA;AACA,SAASoB,kBAAkB,CAACC,KAAK,EAAE;EAC/B,IAAIC,UAAU,GAAG7B,MAAM,CAAC8B,IAAI,CAACF,KAAK,EAAE,QAAQ,CAAC;EAC7C,IAAIC,UAAU,CAACJ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACM,QAAQ,EAAE,KAAK,UAAU,EAAE;IAClD,OAAO;MACHnB,IAAI,EAAEiB,UAAU,CAACJ,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;MAC7BI,UAAU,EAAEA,UAAU,CAACJ,KAAK,CAAC,EAAE;IACnC,CAAC;EACL;EACA,OAAO;IAAEI,UAAU,EAAEA;EAAW,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,SAASxC,eAAe,CAACuC,KAAK,EAAEI,QAAQ,EAAE;EACtC,IAAIC,IAAI,GAAG,OAAOL,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGM,IAAI,CAACC,KAAK,CAACP,KAAK,CAAC;EAChE,IAAIQ,UAAU;EACd,IAAI,CAACH,IAAI,CAACI,MAAM,EAAE;IACd,IAAIJ,IAAI,CAACK,OAAO,CAACxD,MAAM,KAAK,EAAE,EAAE;MAC5B,MAAM,IAAIyD,KAAK,CAAC,4BAA4B,CAAC;IACjD;IACAH,UAAU,GAAGpC,MAAM,CAAC8B,IAAI,CAACG,IAAI,CAACK,OAAO,EAAE,KAAK,CAAC;EACjD,CAAC,MACI;IACD,IAAI,OAAON,QAAQ,KAAK,QAAQ,EAAE;MAC9B,MAAM,IAAIO,KAAK,CAAC,mBAAmB,CAAC;IACxC;IACA,IAAIP,QAAQ,CAAClD,MAAM,GAAG,CAAC,EAAE;MACrB,MAAM,IAAIyD,KAAK,CAAC,wCAAwC,CAAC;IAC7D;IACA;IACA;IACA,IAAIvB,IAAI,GAAGiB,IAAI,CAACO,SAAS,GAAGP,IAAI,CAACK,OAAO,CAACb,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAGQ,IAAI,CAACK,OAAO;IACrE;IACA,IAAIxC,MAAM,GAAG6B,kBAAkB,CAACX,IAAI,CAAC;IACrC,IAAI,CAAClB,MAAM,CAACc,IAAI,EAAE;MACd,MAAM,IAAI2B,KAAK,CAAC,oCAAoC,CAAC;IACzD;IACA;IACA,IAAIE,GAAG,GAAG9B,OAAO,CAACX,MAAM,CAAC8B,IAAI,CAACE,QAAQ,CAAC,EAAElC,MAAM,CAACc,IAAI,EAAE;MAAEN,OAAO,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAG,CAAC,CAAC;IAClF,IAAImC,QAAQ,GAAGpD,MAAM,CAACqD,gBAAgB,CAAC,aAAa,EAAEF,GAAG,CAACjB,GAAG,EAAEiB,GAAG,CAACf,EAAE,CAAC;IACtEU,UAAU,GAAGvC,eAAe,CAAC6C,QAAQ,EAAE1C,MAAM,CAAC8B,IAAI,CAAChC,MAAM,CAAC+B,UAAU,CAAC,CAAC;IACtE;IACAO,UAAU,GAAGpC,MAAM,CAAC8B,IAAI,CAACnC,IAAI,CAACiD,MAAM,CAACR,UAAU,CAACL,QAAQ,EAAE,CAAC,EAAE,KAAK,CAAC;EACvE;EACA,IAAIc,MAAM,GAAG,IAAInD,OAAO,CAACoD,OAAO,CAACV,UAAU,CAAC;EAC5C,IAAIS,MAAM,CAACE,gBAAgB,EAAE,KAAKd,IAAI,CAACe,OAAO,EAAE;IAC5C,MAAM,IAAIT,KAAK,CAAC,gCAAgC,CAAC;EACrD;EACA,OAAOM,MAAM;AACjB;AACA5D,OAAO,CAACI,eAAe,GAAGA,eAAe;AACzC;AACA;AACA;AACA,SAASD,aAAa,CAAC6D,UAAU,EAAE;EAC/B,OAAO,IAAIvD,OAAO,CAACoD,OAAO,CAAC,CAAC,CAAC,EAAEtD,iBAAiB,CAAC0D,SAAS,EAAElD,MAAM,CAAC8B,IAAI,CAACmB,UAAU,CAAC,CAAC,CAAC;AACzF;AACAhE,OAAO,CAACG,aAAa,GAAGA,aAAa;AACrC;AACA;AACA;AACA,SAASD,aAAa,CAACgE,OAAO,EAAEnB,QAAQ,EAAE;EACtC,OAAOrF,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IAC/C,SAASyG,yBAAyB,CAACC,GAAG,EAAE;MACpC;MACA;MACA;MACA;MACA,SAASC,cAAc,CAACC,GAAG,EAAE;QACzB,IAAI;UACA,OAAOC,kBAAkB,CAACD,GAAG,CAAC;QAClC,CAAC,CACD,OAAOE,GAAG,EAAE;UACR,OAAOC,MAAM,CAACC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;QACxC;MACJ;;MACA,IAAIC,GAAG,GAAG,EAAE;QAAErC,GAAG,GAAG,EAAE;MACtB,KAAK,IAAIF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgC,GAAG,CAACvE,MAAM,EAAEuC,CAAC,EAAE,EAAE;QACjC,IAAIgC,GAAG,CAAChC,CAAC,CAAC,IAAI,IAAI,EAAE;UAChBuC,GAAG,IAAIN,cAAc,CAAC/B,GAAG,CAAC,GAAGmC,MAAM,CAACC,YAAY,CAACN,GAAG,CAAChC,CAAC,CAAC,CAAC;UACxDE,GAAG,GAAG,EAAE;QACZ,CAAC,MACI;UACDA,GAAG,IAAI,GAAG,GAAG8B,GAAG,CAAChC,CAAC,CAAC,CAACU,QAAQ,CAAC,EAAE,CAAC;QACpC;MACJ;MACA,OAAO/B,MAAM,CAAC8B,IAAI,CAAC8B,GAAG,GAAGN,cAAc,CAAC/B,GAAG,CAAC,CAAC;IACjD;IACA,IAAIsC,IAAI,EAAEzB,UAAU,EAAE0B,aAAa,EAAEC,QAAQ,EAAEnD,IAAI,EAAEoD,MAAM,EAAEtB,QAAQ;IACrE,OAAO9E,WAAW,CAAC,IAAI,EAAE,UAAUqG,EAAE,EAAE;MACnC,QAAQA,EAAE,CAAClG,KAAK;QACZ,KAAK,CAAC;UACF,IAAIoF,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACpBA,OAAO,GAAGA,OAAO,CAAC1B,KAAK,CAAC,CAAC,CAAC;UAC9B;UACAoC,IAAI,GAAGV,OAAO,CAAC,CAAC,CAAC;UACjBA,OAAO,GAAGA,OAAO,CAAC1B,KAAK,CAAC,CAAC,CAAC;UAC1B,IAAI,EAAEoC,IAAI,KAAK,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC5CzB,UAAU,GAAG,CAAC,CAAC,EAAE5C,iBAAiB,CAAC0E,MAAM,EAAE,CAAC,CAAC,EAAE1E,iBAAiB,CAAC2E,QAAQ,EAAEhB,OAAO,CAAC,CAAC;UACpF,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAC3B,KAAK,CAAC;UACF,IAAI,EAAEU,IAAI,KAAK,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC5C,IAAI,OAAO7B,QAAQ,KAAK,QAAQ,EAAE;YAC9B,MAAM,IAAIO,KAAK,CAAC,mBAAmB,CAAC;UACxC;UACAuB,aAAa,GAAG,CAAC,CAAC,EAAEtE,iBAAiB,CAAC0E,MAAM,EAAElE,MAAM,CAAC8B,IAAI,CAACqB,OAAO,CAAC1B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;UAChFsC,QAAQ,GAAGZ,OAAO,CAAC1B,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC;UAChCb,IAAI,GAAGwC,yBAAyB,CAACU,aAAa,CAAC;UAC/C,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,EAAErE,WAAW,CAAC2E,MAAM,EAAEpE,MAAM,CAAC8B,IAAI,CAACE,QAAQ,EAAE,MAAM,CAAC,EAAEpB,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;UAC7F;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YARwB,CAWH;;QACL,KAAK,CAAC;UACFoD,MAAM,GAAGC,EAAE,CAACjG,IAAI,EAAE;UAClB0E,QAAQ,GAAG,IAAI9C,KAAK,CAACyE,eAAe,CAACC,GAAG,CAACN,MAAM,CAAC;UAChD;UACA5B,UAAU,GAAGpC,MAAM,CAACC,MAAM,CAAC,CACvBD,MAAM,CAAC8B,IAAI,CAACY,QAAQ,CAAC6B,OAAO,CAACT,aAAa,CAACrC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EACzDzB,MAAM,CAAC8B,IAAI,CAACY,QAAQ,CAAC6B,OAAO,CAACT,aAAa,CAACrC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAC7D,CAAC;UACF,IAAIsC,QAAQ,CAACjF,MAAM,GAAG,CAAC,EAAE;YACrB,IAAIiF,QAAQ,KAAK,CAAC,CAAC,EAAEvE,iBAAiB,CAAC0E,MAAM,EAAE,CAAC,CAAC,EAAE1E,iBAAiB,CAAC0E,MAAM,EAAE9B,UAAU,CAAC,CAAC,CAACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACM,QAAQ,CAAC,KAAK,CAAC,EAAE;cACnH,MAAM,IAAIQ,KAAK,CAAC,uDAAuD,CAAC;YAC5E;UACJ;UACA,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAC3B,KAAK,CAAC;UAAE,MAAM,IAAIA,KAAK,CAAC,qCAAqC,CAAC;QAC9D,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,CAAC,YAAY,IAAI7C,OAAO,CAACoD,OAAO,CAACV,UAAU,CAAC,CAAC;MAAC;IAEvE,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACAnD,OAAO,CAACE,aAAa,GAAGA,aAAa;AACrC;AACA;AACA;AACA,SAASD,gBAAgB,CAAC+D,UAAU,EAAEuB,MAAM,EAAE;EAC1C,IAAIvB,UAAU,CAACnE,MAAM,GAAG,EAAE,EAAE;IACxB,MAAM,IAAIyD,KAAK,CAAC,2CAA2C,CAAC;EAChE;EACA,IAAIiC,MAAM,CAAC1F,MAAM,GAAG,EAAE,EAAE;IACpB,MAAM,IAAIyD,KAAK,CAAC,wCAAwC,CAAC;EAC7D;EACA,IAAIkC,MAAM,GAAGxB,UAAU,GAAGuB,MAAM;EAChC,IAAIE,IAAI,GAAGpF,MAAM,CAACqF,UAAU,CAACF,MAAM,EAAEA,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,CAAC;EAChE,OAAO,IAAI/E,OAAO,CAACoD,OAAO,CAAC4B,IAAI,CAAC;AACpC;AACAzF,OAAO,CAACC,gBAAgB,GAAGA,gBAAgB;AAC3C,IAAI0F,UAAU,GAAG;EACbvF,eAAe,EAAEA,eAAe;EAChCD,aAAa,EAAEA,aAAa;EAC5BD,aAAa,EAAEA,aAAa;EAC5BD,gBAAgB,EAAEA;AACtB,CAAC;AACDD,OAAO,CAAC6D,OAAO,GAAG8B,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}