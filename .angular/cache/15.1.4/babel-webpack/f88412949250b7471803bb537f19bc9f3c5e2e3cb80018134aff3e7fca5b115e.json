{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\nvar Base58 = require('./base58');\nvar buffer = require('buffer');\nvar sha256sha256 = require('../crypto/hash').sha256sha256;\nvar Base58Check = function Base58Check(obj) {\n  if (!(this instanceof Base58Check)) return new Base58Check(obj);\n  if (Buffer.isBuffer(obj)) {\n    var buf = obj;\n    this.fromBuffer(buf);\n  } else if (typeof obj === 'string') {\n    var str = obj;\n    this.fromString(str);\n  } else if (obj) {\n    this.set(obj);\n  }\n};\nBase58Check.prototype.set = function (obj) {\n  this.buf = obj.buf || this.buf || undefined;\n  return this;\n};\nBase58Check.validChecksum = function validChecksum(data, checksum) {\n  if (_.isString(data)) {\n    data = Buffer.from(Base58.decode(data));\n  }\n  if (_.isString(checksum)) {\n    checksum = Buffer.from(Base58.decode(checksum));\n  }\n  if (!checksum) {\n    checksum = data.slice(-4);\n    data = data.slice(0, -4);\n  }\n  return Base58Check.checksum(data).toString('hex') === checksum.toString('hex');\n};\nBase58Check.decode = function (s) {\n  if (typeof s !== 'string') throw new Error('Input must be a string');\n  var buf = Buffer.from(Base58.decode(s));\n  if (buf.length < 4) throw new Error(\"Input string too short\");\n  var data = buf.slice(0, -4);\n  var csum = buf.slice(-4);\n  var hash = sha256sha256(data);\n  var hash4 = hash.slice(0, 4);\n  if (csum.toString('hex') !== hash4.toString('hex')) throw new Error(\"Checksum mismatch\");\n  return data;\n};\nBase58Check.checksum = function (buffer) {\n  return sha256sha256(buffer).slice(0, 4);\n};\nBase58Check.encode = function (buf) {\n  if (!Buffer.isBuffer(buf)) throw new Error('Input must be a buffer');\n  var checkedBuf = Buffer.alloc(buf.length + 4);\n  var hash = Base58Check.checksum(buf);\n  buf.copy(checkedBuf);\n  hash.copy(checkedBuf, buf.length);\n  return Base58.encode(checkedBuf);\n};\nBase58Check.prototype.fromBuffer = function (buf) {\n  this.buf = buf;\n  return this;\n};\nBase58Check.prototype.fromString = function (str) {\n  var buf = Base58Check.decode(str);\n  this.buf = buf;\n  return this;\n};\nBase58Check.prototype.toBuffer = function () {\n  return this.buf;\n};\nBase58Check.prototype.toString = function () {\n  return Base58Check.encode(this.buf);\n};\nmodule.exports = Base58Check;","map":{"version":3,"names":["_","require","Base58","buffer","sha256sha256","Base58Check","obj","Buffer","isBuffer","buf","fromBuffer","str","fromString","set","prototype","undefined","validChecksum","data","checksum","isString","from","decode","slice","toString","s","Error","length","csum","hash","hash4","encode","checkedBuf","alloc","copy","toBuffer","module","exports"],"sources":["D:/Documentos/BLOCKCHAIN/Doble Grado BlockChain/Blockchain Engineering/TFG - Enginering/BLOCKTICK/blocktick_dApp/node_modules/bitcore-lib/lib/encoding/base58check.js"],"sourcesContent":["'use strict';\n\nvar _ = require('lodash');\nvar Base58 = require('./base58');\nvar buffer = require('buffer');\nvar sha256sha256 = require('../crypto/hash').sha256sha256;\n\nvar Base58Check = function Base58Check(obj) {\n  if (!(this instanceof Base58Check))\n    return new Base58Check(obj);\n  if (Buffer.isBuffer(obj)) {\n    var buf = obj;\n    this.fromBuffer(buf);\n  } else if (typeof obj === 'string') {\n    var str = obj;\n    this.fromString(str);\n  } else if (obj) {\n    this.set(obj);\n  }\n};\n\nBase58Check.prototype.set = function(obj) {\n  this.buf = obj.buf || this.buf || undefined;\n  return this;\n};\n\nBase58Check.validChecksum = function validChecksum(data, checksum) {\n  if (_.isString(data)) {\n    data = Buffer.from(Base58.decode(data));\n  }\n  if (_.isString(checksum)) {\n    checksum =  Buffer.from(Base58.decode(checksum));\n  }\n  if (!checksum) {\n    checksum = data.slice(-4);\n    data = data.slice(0, -4);\n  }\n  return Base58Check.checksum(data).toString('hex') === checksum.toString('hex');\n};\n\nBase58Check.decode = function(s) {\n  if (typeof s !== 'string')\n    throw new Error('Input must be a string');\n\n  var buf = Buffer.from(Base58.decode(s));\n\n  if (buf.length < 4)\n    throw new Error(\"Input string too short\");\n\n  var data = buf.slice(0, -4);\n  var csum = buf.slice(-4);\n\n  var hash = sha256sha256(data);\n  var hash4 = hash.slice(0, 4);\n\n  if (csum.toString('hex') !== hash4.toString('hex'))\n    throw new Error(\"Checksum mismatch\");\n\n  return data;\n};\n\nBase58Check.checksum = function(buffer) {\n  return sha256sha256(buffer).slice(0, 4);\n};\n\nBase58Check.encode = function(buf) {\n  if (!Buffer.isBuffer(buf))\n    throw new Error('Input must be a buffer');\n  var checkedBuf = Buffer.alloc(buf.length + 4);\n  var hash = Base58Check.checksum(buf);\n  buf.copy(checkedBuf);\n  hash.copy(checkedBuf, buf.length);\n  return Base58.encode(checkedBuf);\n};\n\nBase58Check.prototype.fromBuffer = function(buf) {\n  this.buf = buf;\n  return this;\n};\n\nBase58Check.prototype.fromString = function(str) {\n  var buf = Base58Check.decode(str);\n  this.buf = buf;\n  return this;\n};\n\nBase58Check.prototype.toBuffer = function() {\n  return this.buf;\n};\n\nBase58Check.prototype.toString = function() {\n  return Base58Check.encode(this.buf);\n};\n\nmodule.exports = Base58Check;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}